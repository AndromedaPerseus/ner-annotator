(function(e){function t(t){for(var a,c,s=t[0],l=t[1],i=t[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/ner-annotator/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"05e6":function(e,t,n){},"0e21":function(e,t,n){},1786:function(e,t,n){"use strict";n("5759")},"3dfb":function(e,t,n){"use strict";n("05e6")},4367:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(e,t,n,o,r,c){var s=Object(a["G"])("menu-bar"),l=Object(a["G"])("annotation-sidebar"),i=Object(a["G"])("q-drawer"),u=Object(a["G"])("start-page"),d=Object(a["G"])("annotation-page"),b=Object(a["G"])("q-page-container"),p=Object(a["G"])("q-layout");return Object(a["z"])(),Object(a["g"])(p,{view:"hHh lpR fFf"},{default:Object(a["L"])((function(){return["start"!==r.currentPage?(Object(a["z"])(),Object(a["g"])(s,{key:0})):Object(a["h"])("",!0),Object(a["j"])(i,{"model-value":"start"!==r.currentPage,bordered:"",class:"bg-grey-2"},{default:Object(a["L"])((function(){return[Object(a["j"])(l)]})),_:1},8,["model-value"]),Object(a["j"])(b,null,{default:Object(a["L"])((function(){return["start"===r.currentPage?(Object(a["z"])(),Object(a["g"])(u,{key:0,onFileLoaded:t[1]||(t[1]=function(e){return c.switchToPage("annotate")})})):Object(a["h"])("",!0),"annotate"===r.currentPage?(Object(a["z"])(),Object(a["g"])(d,{key:1})):Object(a["h"])("",!0)]})),_:1})]})),_:1})}var r={class:"q-pa-sm q-pl-md row items-center"},c={class:"q-ml-md cursor-pointer non-selectable"},s=Object(a["j"])("span",null," Annotations ",-1),l={class:"q-ml-md cursor-pointer non-selectable"},i=Object(a["j"])("span",null," Tags ",-1),u=Object(a["i"])("Export"),d=Object(a["i"])("Import"),b=Object(a["j"])("div",{class:"text-h6"},"Project Name",-1);function p(e,t,n,o,p,j){var f=Object(a["G"])("export-annotations"),O=Object(a["G"])("q-list"),m=Object(a["G"])("q-menu"),h=Object(a["G"])("q-item-section"),g=Object(a["G"])("q-item"),v=Object(a["G"])("q-header"),k=Object(a["G"])("q-card-section"),y=Object(a["G"])("q-input"),C=Object(a["G"])("q-btn"),w=Object(a["G"])("q-card-actions"),x=Object(a["G"])("q-card"),S=Object(a["G"])("q-dialog"),q=Object(a["H"])("close-popup");return Object(a["z"])(),Object(a["g"])(a["a"],null,[Object(a["j"])(v,{bordered:""},{default:Object(a["L"])((function(){return[Object(a["j"])("div",r,[Object(a["j"])("div",c,[s,Object(a["j"])(m,null,{default:Object(a["L"])((function(){return[Object(a["j"])(O,{dense:"",style:{"min-width":"100px"}},{default:Object(a["L"])((function(){return[Object(a["j"])(f)]})),_:1})]})),_:1})]),Object(a["j"])("div",l,[i,Object(a["j"])(m,null,{default:Object(a["L"])((function(){return[Object(a["j"])(O,{dense:"",style:{"min-width":"100px"}},{default:Object(a["L"])((function(){return[Object(a["M"])(Object(a["j"])(g,{clickable:"",onClick:t[1]||(t[1]=function(e){return j.exportTags()})},{default:Object(a["L"])((function(){return[Object(a["j"])(h,null,{default:Object(a["L"])((function(){return[u]})),_:1})]})),_:1},512),[[q]]),Object(a["M"])(Object(a["j"])(g,{clickable:"",onClick:t[3]||(t[3]=function(t){return e.$refs.file.click()})},{default:Object(a["L"])((function(){return[Object(a["j"])(h,null,{default:Object(a["L"])((function(){return[d]})),_:1}),Object(a["j"])("input",{onChange:t[2]||(t[2]=function(){return j.importTags.apply(j,arguments)}),type:"file",ref:"file",accept:".json",style:{display:"none"}},null,544)]})),_:1},512),[[q]])]})),_:1})]})),_:1})])])]})),_:1}),Object(a["j"])(S,{modelValue:e.promptForProject,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.promptForProject=t}),persistent:""},{default:Object(a["L"])((function(){return[Object(a["j"])(x,{style:{"min-width":"350px"}},{default:Object(a["L"])((function(){return[Object(a["j"])(k,null,{default:Object(a["L"])((function(){return[b]})),_:1}),Object(a["j"])(k,{class:"q-pt-none"},{default:Object(a["L"])((function(){return[Object(a["j"])(y,{dense:"",modelValue:e.newProjectName,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.newProjectName=t}),autofocus:"",onKeyup:t[5]||(t[5]=Object(a["N"])((function(t){return e.promptForProject=!1}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(a["j"])(w,{align:"right",class:"text-primary"},{default:Object(a["L"])((function(){return[Object(a["M"])(Object(a["j"])(C,{flat:"",label:"Cancel"},null,512),[[q]]),Object(a["M"])(Object(a["j"])(C,{flat:"",label:"Create Project"},null,512),[[q]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])],64)}n("96cf");var j=n("1da1"),f=n("5530"),O=Object(a["i"])("Export");function m(e,t,n,o,r,c){var s=Object(a["G"])("q-item-section"),l=Object(a["G"])("q-item"),i=Object(a["H"])("close-popup");return Object(a["M"])((Object(a["z"])(),Object(a["g"])(l,{clickable:"",onClick:t[1]||(t[1]=function(e){return c.generateJSONExport()})},{default:Object(a["L"])((function(){return[Object(a["j"])(s,null,{default:Object(a["L"])((function(){return[O]})),_:1})]})),_:1},512)),[[i]])}n("d81d"),n("b0c0");var h=n("5502"),g=(n("ac1f"),n("466d"),n("5566")),v=n("e301"),k=n("bccc"),y=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("undefined"!==typeof window.rpc){e.next=10;break}a=document.createElement("a"),a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",n),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),e.next=17;break;case 10:return e.t0=g["a"],e.next=13,Object(k["a"])();case 13:e.t1=e.sent,e.t2=[{extensions:["json"],name:"JSON Files (*.json)"},{name:"All files (*.*)",extensions:["*"]}],e.t3={defaultPath:e.t1,filters:e.t2},(0,e.t0)(e.t3).then((function(e){e&&(e.match(/.*\.json$/)||(e+=".json"),Object(v["a"])("save_file",{filepath:e,contents:t}).then((function(e){return alert(e)})).catch((function(e){return alert(e)})))})).catch((function(e){return console.log("Save cancelled.",e)}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C={name:"ExportAnnotations",computed:Object(f["a"])({},Object(h["d"])(["annotations","classes"])),methods:{generateJSONExport:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={classes:e.classes.map((function(e){return e.name})),annotations:e.annotations},a=JSON.stringify(n),t.next=4,y(a,"annotations.json");case 4:case"end":return t.stop()}}),t)})))()}}},w=n("66e5"),x=n("4074"),S=n("7f67"),q=n("93dc"),T=n.n(q);C.render=m;var N=C;T()(C,"components",{QItem:w["a"],QItemSection:x["a"]}),T()(C,"directives",{ClosePopup:S["a"]});var G=n("b3fe"),I={components:{ExportAnnotations:N},name:"MenuBar",setup:function(){var e=Object(G["a"])();return{notify:function(t,n,a){e.notify({icon:t,message:n,color:a,position:"top",timeout:2e3,actions:[{label:"Dismiss",color:"white"}]})}}},data:function(){return{promptForProject:!1,newProjectName:""}},computed:Object(f["a"])({},Object(h["d"])(["annotations","classes"])),methods:Object(f["a"])(Object(f["a"])({},Object(h["c"])(["loadClasses"])),{},{exportTags:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y(JSON.stringify(this.classes),"tags.json");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),importTags:function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onload=function(n){try{t.loadClasses(JSON.parse(n.target.result)),t.notify("fa fa-check","".concat(t.classes.length," Tags imported successfully"),"positive")}catch(e){t.notify("fas fa-exclamation-circle","Invalid file","red-6")}},a.readAsText(n)}})},P=n("e359"),z=n("4e73"),_=n("1c1c"),B=n("eb85"),L=n("24e8"),Q=n("f09f"),A=n("a370"),E=n("27f9"),R=n("4b7e"),V=n("9c40");I.render=p;var F=I;T()(I,"components",{QHeader:P["a"],QMenu:z["a"],QList:_["a"],QItem:w["a"],QItemSection:x["a"],QSeparator:B["a"],QDialog:L["a"],QCard:Q["a"],QCardSection:A["a"],QInput:E["a"],QCardActions:R["a"],QBtn:V["a"]}),T()(I,"directives",{ClosePopup:S["a"]});var J={class:"q-mx-auto q-my-xl",style:{"max-width":"600px"}},M=Object(a["j"])("h5",{class:"text-h5"},"NER Text Annotator",-1),U=Object(a["j"])("p",{class:"text-subtitle1"},"Annotate text for spaCy NER Model training",-1),$={class:"q-my-xl q-py-xl"};function D(e,t,n,o,r,c){var s=Object(a["G"])("q-icon"),l=Object(a["G"])("q-file");return Object(a["z"])(),Object(a["g"])("div",J,[M,U,Object(a["j"])("div",$,[Object(a["j"])(l,{modelValue:r.textFile,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return r.textFile=e}),c.onFileSelected],accept:".txt",filled:"",label:"Open a text file to begin"},{prepend:Object(a["L"])((function(){return[Object(a["j"])(s,{name:"fas fa-upload"})]})),_:1},8,["modelValue","onUpdate:modelValue"])])])}var H={name:"StartPage",emits:["file-loaded"],data:function(){return{textFile:null}},methods:Object(f["a"])(Object(f["a"])({},Object(h["c"])(["setInputSentences"])),{},{onFileSelected:function(e){var t=this,n=new FileReader;n.addEventListener("load",(function(e){t.setInputSentences(e.target.result),t.$emit("file-loaded")})),n.readAsText(e)}})},K=n("7d53"),Y=n("0016");H.render=D;var W=H;T()(H,"components",{QFile:K["a"],QIcon:Y["a"]});var X={class:"q-pa-lg"},Z={class:"q-pa-md",style:{"border-top":"1px solid #ccc"}};function ee(e,t,n,o,r,c){var s=Object(a["G"])("classes-block"),l=Object(a["G"])("q-btn");return Object(a["z"])(),Object(a["g"])("div",null,[Object(a["j"])(s),Object(a["j"])("div",X,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(e.tm.tokens,(function(e){return Object(a["z"])(),Object(a["g"])(Object(a["I"])("token"===e.type?"Token":"TokenBlock"),{id:"t"+e.start,token:e,key:e.start,backgroundColor:e.backgroundColor,onRemoveBlock:c.onRemoveBlock},null,8,["id","token","backgroundColor","onRemoveBlock"])})),128))]),Object(a["j"])("div",Z,[Object(a["j"])(l,{color:"red",outline:"",class:"q-mx-md",onClick:c.resetBlocks,label:"Reset"},null,8,["onClick"]),Object(a["j"])(l,{class:"q-mx-md",outline:"",onClick:c.skipCurrentSentence,label:"Skip"},null,8,["onClick"]),Object(a["j"])(l,{class:"q-mx-md",color:"green",outline:"",onClick:c.saveTags,label:"Save"},null,8,["onClick"])])])}n("5319");var te={key:0,class:"token"};function ne(e,t,n,o,r,c){return"token"===n.token.type?(Object(a["z"])(),Object(a["g"])("span",te,Object(a["J"])(n.token.text),1)):Object(a["h"])("",!0)}var ae={name:"Token",props:{token:{type:Object,required:!0}}};n("af90");ae.render=ne;var oe=ae,re={class:"tag"};function ce(e,t,n,o,r,c){var s=Object(a["G"])("Token"),l=Object(a["G"])("q-btn");return Object(a["z"])(),Object(a["g"])("mark",{class:"bg-"+n.backgroundColor},[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(n.token.tokens,(function(e){return Object(a["z"])(),Object(a["g"])(s,{token:e,key:e.start},null,8,["token"])})),128)),Object(a["j"])("span",re,[Object(a["i"])(Object(a["J"])(n.token.label)+" ",1),Object(a["j"])(l,{icon:"fa fa-times-circle",round:"",flat:"",size:"xs","text-color":"grey-7",onClick:t[1]||(t[1]=function(t){return e.$emit("remove-block",n.token.start)})})])],2)}var se={name:"TokenBlock",emits:["remove-block"],data:function(){return{showClose:!1}},props:{token:{type:Object,requried:!0},backgroundColor:{type:String,required:!1}},components:{Token:oe}};n("1786");se.render=ce;var le=se;T()(se,"components",{QBtn:V["a"]});var ie=Object(a["O"])("data-v-5bcb0b7b");Object(a["C"])("data-v-5bcb0b7b");var ue={class:"q-pa-md",style:{"border-bottom":"1px solid #ccc"}},de={class:"row"},be={class:"tags"},pe={class:"q-mx-md"},je={class:"buttons"};Object(a["A"])();var fe=ie((function(e,t,n,o,r,c){var s=Object(a["G"])("q-avatar"),l=Object(a["G"])("q-chip"),i=Object(a["G"])("q-space"),u=Object(a["G"])("q-btn"),d=Object(a["G"])("q-input"),b=Object(a["G"])("q-btn-group");return Object(a["z"])(),Object(a["g"])("div",ue,[Object(a["j"])("div",de,[Object(a["j"])("div",be,[(Object(a["z"])(!0),Object(a["g"])(a["a"],null,Object(a["F"])(e.classes,(function(t){return Object(a["z"])(),Object(a["g"])(l,{key:t.id,square:"",color:t.id===e.currentClass.id?t.color:"grey-3",clickable:"",onClick:function(n){return e.setCurrentClass(t.id)},removable:r.showDeleteButtons,onRemove:function(e){return c.handleRemoveClass(t.id,t.name)}},{default:ie((function(){return[Object(a["j"])(s,{color:t.color.replace("11","12"),"text-color":"white",icon:t.id===e.currentClass.id?"fa fa-check":""},null,8,["color","icon"]),Object(a["i"])(" "+Object(a["J"])(t.name),1)]})),_:2},1032,["color","onClick","removable","onRemove"])})),128))]),Object(a["j"])(i),Object(a["j"])("div",pe,[r.showNewClassInput||0===e.classes.length?(Object(a["z"])(),Object(a["g"])(d,{key:0,"bottom-slots":"",modelValue:r.newClassName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.newClassName=e}),hint:"Enter a NER Tag and click [+] to add it",dense:"",autofocus:""},{append:ie((function(){return[Object(a["j"])(u,{round:"",dense:"",flat:"",color:"green-4",icon:"fa fa-plus",onClick:c.saveNewClass},null,8,["onClick"]),Object(a["j"])(u,{round:"",color:"red-4",dense:"",flat:"",icon:"fa fa-times",onClick:t[1]||(t[1]=function(e){return r.showNewClassInput=!1})})]})),_:1},8,["modelValue"])):Object(a["h"])("",!0)]),Object(a["j"])("div",je,[Object(a["j"])(b,null,{default:ie((function(){return[Object(a["j"])(u,{outline:"",onClick:t[3]||(t[3]=function(e){return r.showNewClassInput=!0}),label:"New Tag"}),Object(a["j"])(u,{outline:"",onClick:t[4]||(t[4]=function(e){return r.showDeleteButtons=!r.showDeleteButtons}),label:r.showDeleteButtons?"Lock Tags":"Edit Tags"},null,8,["label"])]})),_:1})])])])})),Oe={name:"ClassesBlock",data:function(){return{showNewClassInput:!1,newClassName:"",showDeleteButtons:!1}},computed:Object(f["a"])({},Object(h["d"])(["classes","currentClass"])),watch:{newClassName:function(e,t){e!=t&&(this.newClassName=e.toUpperCase())}},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(h["c"])(["setCurrentClass"])),Object(h["b"])(["createNewClass","deleteClass"])),{},{handleRemoveClass:function(e,t){var n=confirm("Are you sure you want to remove the tag `"+t+"`?\nNOTE: This will NOT affect previously tagged entities.");n&&this.deleteClass(e)},saveNewClass:function(){var e=this;this.createNewClass(this.newClassName).then((function(){e.showNewClassInput=!1,e.newClassName=""}))},onInputKeyup:function(e){"Enter"===e.key&&this.saveNewClass()}})},me=(n("8848"),n("b047")),he=n("cb32"),ge=n("2c91"),ve=n("e7a9");Oe.render=fe,Oe.__scopeId="data-v-5bcb0b7b";var ke=Oe;T()(Oe,"components",{QChip:me["a"],QAvatar:he["a"],QSpace:ge["a"],QInput:E["a"],QBtn:V["a"],QBtnGroup:ve["a"]});var ye=n("2909"),Ce=n("d4ec"),we=n("bee2"),xe=function(){function e(t){Object(Ce["a"])(this,e),this.tokens=t.map((function(e){return{type:"token",start:e[0],end:e[1],text:e[2]}})),this.words=t.map((function(e){return e[2]}))}return Object(we["a"])(e,[{key:"addNewBlock",value:function(e,t,n){for(var a=[],o=[],r=t<e?t:e,c=t>e?t:e,s=0;s<this.tokens.length;s++){var l=this.tokens[s];l.start<r?o.push(l):"token"==l.type&&l.start>=r&&l.start<=c?a.push(l):l.start>r&&a.length?(o.push({type:"token-block",start:a[0].start,end:a[a.length-1].end,tokens:a,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),a=[],o.push(l)):o.push(l)}a.length&&o.push({type:"token-block",start:a[0].start,end:a[a.length-1].end,tokens:a,label:n&&n.name?n.name:"Unlabelled",classId:n&&n.id?n.id:0,backgroundColor:n&&n.color?n.color:null}),this.tokens=o}},{key:"removeBlock",value:function(e){for(var t=[],n=0;n<this.tokens.length;n++)"token-block"===this.tokens[n].type&&this.tokens[n].start===e?t.push.apply(t,Object(ye["a"])(this.tokens[n].tokens)):t.push(this.tokens[n]);this.tokens=t}},{key:"resetBlocks",value:function(){for(var e=[],t=0;t<this.tokens.length;t++)"token"===this.tokens[t].type?e.push(this.tokens[t]):e.push.apply(e,Object(ye["a"])(this.tokens[t].tokens));this.tokens=e}},{key:"exportAsAnnotation",value:function(){for(var e=[],t=0;t<this.tokens.length;t++)if("token-block"===this.tokens[t].type){var n=this.tokens[t];e.push([n.start,n.end,n.label])}return e}}]),e}(),Se=xe,qe=n("6db2"),Te=n.n(qe),Ne={name:"AnnotationPage",data:function(){return{tm:new Se([]),currentSentence:{},redone:"",tokenizer:new Te.a}},components:{Token:oe,TokenBlock:le,ClassesBlock:ke},computed:Object(f["a"])({},Object(h["d"])(["inputSentences","classes","annotations","currentClass","currentIndex","resetIndex"])),watch:{inputSentences:function(){this.resetIndex(),this.tokenizeCurrentSentence()}},created:function(){this.inputSentences.length&&this.tokenizeCurrentSentence(),document.addEventListener("mouseup",this.selectTokens)},beforeUnmount:function(){document.removeEventListener("mouseup",this.selectTokens)},methods:Object(f["a"])(Object(f["a"])({},Object(h["c"])(["nextSentence"])),{},{tokenizeCurrentSentence:function(){if(this.currentIndex>=this.inputSentences.length)alert("You have completed all the sentences");else{this.currentSentence=this.inputSentences[this.currentIndex];var e=this.tokenizer.tokenize(this.currentSentence.text),t=this.tokenizer.span_tokenize(this.currentSentence.text),n=e.map((function(e,n){return[t[n][0],t[n][1],e]}));this.tm=new Se(n)}},selectTokens:function(){var e=document.getSelection();if(e.anchorOffset!==e.focusOffset||e.anchorNode!==e.focusNode){var t,n;try{t=parseInt(e.anchorNode.parentElement.id.replace("t","")),n=parseInt(e.focusNode.parentElement.id.replace("t",""))}catch(a){return void console.log("selected text were not tokens")}if(!this.classes.length&&e.anchorNode)return alert("There are no Tags available. Kindly add some Tags before tagging."),void e.empty();this.tm.addNewBlock(t,n,this.currentClass),e.empty()}},onRemoveBlock:function(e){this.tm.removeBlock(e)},resetBlocks:function(){this.tm.resetBlocks()},skipCurrentSentence:function(){this.nextSentence(),this.tokenizeCurrentSentence()},saveTags:function(){this.$store.commit("addAnnotation",[this.currentSentence.text,{entities:this.tm.exportAsAnnotation()}]),this.nextSentence(),this.tokenizeCurrentSentence()}})};Ne.render=ee;var Ge=Ne;T()(Ne,"components",{QBtn:V["a"]});var Ie={class:"px-3"};function Pe(e,t,n,o,r,c){var s=Object(a["G"])("split-type-selector"),l=Object(a["G"])("progress-bar");return Object(a["z"])(),Object(a["g"])("nav",Ie,[Object(a["j"])(s,{class:"mt-4 mb-5"}),Object(a["j"])(l,{class:"mb-5",completed:e.currentIndex,total:e.inputSentences.length},null,8,["completed","total"])])}var ze={class:"q-mx-md"},_e={class:"is-size-6"};function Be(e,t,n,o,r,c){var s=Object(a["G"])("q-linear-progress");return Object(a["z"])(),Object(a["g"])("div",ze,[Object(a["j"])("p",_e,"Tagging Progress ("+Object(a["J"])(n.completed)+"/"+Object(a["J"])(n.total)+")",1),Object(a["j"])(s,{size:"md",color:"primary",value:n.completed/n.total},null,8,["value"])])}n("a9e3");var Le={name:"ProgressBar",props:{completed:{type:Number,required:!0,default:0},total:{type:Number,required:!0}},computed:{completedPercent:function(){return parseInt(this.completed/this.total*100)}}},Qe=n("6b1d");Le.render=Be;var Ae=Le;T()(Le,"components",{QLinearProgress:Qe["a"]});var Ee={class:"q-pa-md"},Re={key:0,class:"q-px-md"};function Ve(e,t,n,o,r,c){var s=Object(a["G"])("q-select"),l=Object(a["G"])("q-input");return Object(a["z"])(),Object(a["g"])("section",null,[Object(a["j"])("div",Ee,[Object(a["j"])(s,{outlined:"","bg-color":"white",modelValue:c.splitType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.splitType=e}),options:r.splitOptions,"map-options":!0,label:"Text Seperator"},null,8,["modelValue","options"])]),"custom"===c.splitType?(Object(a["z"])(),Object(a["g"])("div",Re,[Object(a["j"])(l,{label:"Separator","bg-color":"white",outlined:"",modelValue:r.customSeparator,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.customSeparator=e}),onChange:c.separatorChanged,disabled:e.annotations.length},null,8,["modelValue","onChange","disabled"])])):Object(a["h"])("",!0)])}var Fe={name:"SpitTypeSelector",data:function(){return{customSeparator:"---",splitOptions:[{label:"New Line",value:"newline"},{label:"An Empty Line",value:"emptyline"},{label:"Custom String",value:"custom"}]}},computed:Object(f["a"])(Object(f["a"])({},Object(h["d"])(["annotations"])),{},{splitType:{get:function(){switch(this.$store.state.separator){case"\n":return"newline";case"\n\n":return"emptyline";default:return"custom"}},set:function(e){switch(e.value){case"newline":this.$store.commit("setSeparator","\n");break;case"emptyline":this.$store.commit("setSeparator","\n\n");break;default:this.$store.commit("setSeparator","---");break}}}}),methods:{separatorChanged:function(){this.$store.commit("setSeparator",this.customSeparator)}}},Je=n("ddd8");Fe.render=Ve;var Me=Fe;T()(Fe,"components",{QSelect:Je["a"],QInput:E["a"]});var Ue={name:"AnnotationSidebar",components:{ProgressBar:Ae,SplitTypeSelector:Me},computed:Object(f["a"])({},Object(h["d"])(["currentIndex","inputSentences"]))};n("3dfb");Ue.render=Pe;var $e=Ue,De={name:"LayoutDefault",data:function(){return{currentPage:"start"}},components:{MenuBar:F,StartPage:W,AnnotationPage:Ge,AnnotationSidebar:$e},methods:{switchToPage:function(e){this.currentPage=e}}},He=n("4d5a"),Ke=n("9404"),Ye=n("09e3");De.render=o;var We=De;T()(De,"components",{QLayout:He["a"],QDrawer:Ke["a"],QPageContainer:Ye["a"]});n("54ba"),n("4de4"),n("7db0"),n("13d5"),n("d3b7"),n("1276");var Xe=n("53ca"),Ze=n("18d6"),et=["red-11","blue-11","light-green-11","deep-orange-11","pink-11","light-blue-11","lime-11","brown-11","purple-11","cyan-11","yellow-11","grey-11","deep-purple-11","teal-11","amber-11","blue-grey-11","indigo-11","green-11","orange-11"],tt={setInputSentences:function(e,t){Array.isArray(t)||(e.originalText=t,t=t.split(e.separator)),e.inputSentences=t.map((function(e,t){return{id:t,text:e}}))},addClass:function(e,t){var n=e.classes.find((function(e){return e.name==t}));if(!n){var a=e.classes.reduce((function(e,t){return t.id>e?t.id:e}),0);e.classes.push({id:a+1,name:t,color:et[a%et.length]}),1===e.classes.length&&(e.currentClass=e.classes[0])}},removeClass:function(e,t){e.classes=e.classes.filter((function(e){return e.id!=t})),e.currentClass.id===t&&(e.currentClass=e.classes[0])},setCurrentClass:function(e,t){e.currentClass=e.classes.find((function(e){return e.id===t}))},addAnnotation:function(e,t){e.annotations.push(t)},setSeparator:function(e,t){e.separator=t;var n=e.originalText.split(e.separator);e.inputSentences=n.map((function(e,t){return{id:t,text:e}}))},nextSentence:function(e){e.currentIndex+=1},resetIndex:function(e){e.currentIndex=0},loadClasses:function(e,t){if(!Array.isArray(t))throw new Error("loadClasses: payload must be an array");var n=t.reduce((function(e,t){return e&&"object"===Object(Xe["a"])(t)&&"id"in t&&"name"in t&&"color"in t}),!0);if(!n)throw new Error("loadClasses: payload has invalid schema");e.classes=t}},nt={},at={createNewClass:function(e,t){var n=e.commit,a=e.state;return new Promise((function(e,o){n("addClass",t);try{Ze["a"].set("classes",a.classes)}catch(r){o(r)}e()}))},deleteClass:function(e,t){var n=e.commit,a=e.state;n("removeClass",t),Ze["a"].set("classes",a.classes)}},ot={state:function(){return{originalText:"",separator:"\n",classes:Ze["a"].getItem("classes")||[],inputSentences:[],annotations:[],currentClass:{},currentIndex:0}},getters:nt,mutations:tt,actions:at},rt=n("b05d"),ct=(n("0e21"),n("b3f7")),st=(n("573e"),n("35fc"),n("2a19")),lt={config:{},plugins:{Notify:st["a"]},iconSet:ct["a"]},it=Object(a["f"])(We).use(rt["a"],lt);it.use(Object(h["a"])(ot)),it.mount("#app")},5759:function(e,t,n){},8848:function(e,t,n){"use strict";n("4367")},af90:function(e,t,n){"use strict";n("d0c6")},d0c6:function(e,t,n){}});
//# sourceMappingURL=app.1a1b43ec.js.map